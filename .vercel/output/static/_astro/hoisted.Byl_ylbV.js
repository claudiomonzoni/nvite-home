const a=r=>{r.addEventListener("submit",async e=>{e.preventDefault();const o=new FormData(r);try{const t=await fetch(r.action,{method:"POST",body:JSON.stringify(Object.fromEntries(o))});if(!t.ok){const{error:n}=await t.json();throw new Error(n.code)}r.reset(),window.location.reload()}catch(t){return t instanceof Error?alert(t.message):alert("Error desconocido, por favor intenta de nuevo")}})},c=document.querySelectorAll("[data-authForm]");c.forEach(r=>{a(r)});
