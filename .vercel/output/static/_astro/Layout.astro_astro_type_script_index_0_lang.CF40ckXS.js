import{a as o,s,b as u}from"./utils.DTxwb8SN.js";function i(){const a=document.querySelectorAll("[data-quantity]");document.addEventListener("cart:updated",()=>{if(!a)return;const t=o();a.forEach(e=>{const c=e.dataset.productid;c&&(e.textContent=t.filter(d=>d===c).length)})}),document.querySelectorAll("[data-cart]").forEach(t=>{t.removeEventListener("click",r),t.addEventListener("click",r)})}function r(){const a=o(),n=this.dataset.productid,t=this.dataset.action,e=[...a];!n||!t||(t==="increment"&&e.push(n),t==="decrement"&&e.includes(n)&&e.splice(e.indexOf(n),1),s(e),u())}i();document.addEventListener("astro:page-load",i);
